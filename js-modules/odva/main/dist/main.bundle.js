this.BX = this.BX || {};
(function (exports) {
	'use strict';

	function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return {s:F,n:function n(){if(i>=o.length)return {done:true};return {done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return {s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}/**
	 * класс дл€ реализации шаблона проектировани€ "Ќаблюдатель"
	 */var Observer=/*#__PURE__*/function(){function Observer(){_classCallCheck(this,Observer);this.subscribers=[];this.eventScope="default";}/**
		 * метод подписки на событи€
		 */_createClass(Observer,[{key:"subscribe",value:function subscribe(obj){var _iterator=_createForOfIteratorHelper(this.subscribers),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var subscriber=_step.value;if(subscriber==obj)return}}catch(err){_iterator.e(err);}finally{_iterator.f();}this.subscribers.push(obj);}/**
		 * метод отписки от событий
		 */},{key:"unsubscribe",value:function unsubscribe(obj){this.subscribers=this.subscribers.filter(function(subscriber){return subscriber!==obj});}/**
		 * оповещение о новом событии подписчиков
		 */},{key:"notify",value:function notify(eventType,data){var event=this.getEventHandlerName(eventType);this.subscribers.forEach(function(subscriber){return subscriber[event]?subscriber[event](data):false});}},{key:"getEventHandlerName",value:function getEventHandlerName(eventType){eventType=eventType.charAt(0).toUpperCase()+eventType.slice(1);return "".concat(this.eventScope).concat(eventType,"Event")}}]);return Observer}();

	function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);})}}function _classCallCheck$1(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties$1(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass$1(Constructor,protoProps,staticProps){if(protoProps)_defineProperties$1(Constructor.prototype,protoProps);if(staticProps)_defineProperties$1(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}/**
	 * класс дл€ работы с корзиной
	 */var OdvaBasket=/*#__PURE__*/function(_Observer){_inherits(OdvaBasket,_Observer);var _super=_createSuper(OdvaBasket);function OdvaBasket(){var _this;_classCallCheck$1(this,OdvaBasket);_this=_super.call(this);_this.eventScope="basket";return _this}/**
		 * получение количества товаров в корзине
		 *
		 * @return {Array} ['PRODUCTS' => number, 'ITEMS' => number]
		 */_createClass$1(OdvaBasket,[{key:"getCount",value:function(){var _getCount=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.getResponse("getCount",false,{method:"GET"});case 2:response=_context.sent;this.notify("getCount",response);return _context.abrupt("return",response);case 5:case"end":return _context.stop();}}},_callee,this)}));function getCount(){return _getCount.apply(this,arguments)}return getCount}()/**
		 * удаление всех товаров из корзины
		 */},{key:"clear",value:function(){var _clear=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){var response;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.getResponse("clear",false,{method:"GET"});case 2:response=_context2.sent;this.notify("clear",response);return _context2.abrupt("return",response);case 5:case"end":return _context2.stop();}}},_callee2,this)}));function clear(){return _clear.apply(this,arguments)}return clear}()/**
		 * добавление товара в корзину
		 *
		 * @param {number} productId ID товара
		 * @param {number} quantity количество товара
		 */},{key:"addItem",value:function(){var _addItem=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(productId,quantity){var response;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.getResponse("addItem",{productId:productId,quantity:quantity});case 2:response=_context3.sent;this.notify("addItem",response);return _context3.abrupt("return",response);case 5:case"end":return _context3.stop();}}},_callee3,this)}));function addItem(_x,_x2){return _addItem.apply(this,arguments)}return addItem}()/**
		 * удаление товара из корзины
		 *
		 * @param {number} productId ID товара
		 */},{key:"deleteItem",value:function(){var _deleteItem=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(productId){var response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.getResponse("deleteItem",{productId:productId});case 2:response=_context4.sent;this.notify("deleteItem",response);return _context4.abrupt("return",response);case 5:case"end":return _context4.stop();}}},_callee4,this)}));function deleteItem(_x3){return _deleteItem.apply(this,arguments)}return deleteItem}()/**
		 * изменение количества товара в корзине
		 *
		 * @param {number} productId ID товара
		 * @param {number} quantity количество товара (может быть как положительным, так и отрицательным)
		 */},{key:"changeItemQuantity",value:function(){var _changeItemQuantity=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(productId,quantity){var response;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.getResponse("changeItemQuantity",{productId:productId,quantity:quantity});case 2:response=_context5.sent;this.notify("changeItemQuantity",response);return _context5.abrupt("return",response);case 5:case"end":return _context5.stop();}}},_callee5,this)}));function changeItemQuantity(_x4,_x5){return _changeItemQuantity.apply(this,arguments)}return changeItemQuantity}()},{key:"applyCoupon",value:function(){var _applyCoupon=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(coupon){var response;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.getResponse("applyCoupon",{coupon:coupon});case 2:response=_context6.sent;this.notify("applyCoupon",response);return _context6.abrupt("return",response);case 5:case"end":return _context6.stop();}}},_callee6,this)}));function applyCoupon(_x6){return _applyCoupon.apply(this,arguments)}return applyCoupon}()},{key:"deleteCoupon",value:function(){var _deleteCoupon=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(coupon){var response;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.getResponse("deleteCoupon",{coupon:coupon});case 2:response=_context7.sent;this.notify("deleteCoupon",response);return _context7.abrupt("return",response);case 5:case"end":return _context7.stop();}}},_callee7,this)}));function deleteCoupon(_x7){return _deleteCoupon.apply(this,arguments)}return deleteCoupon}()},{key:"getInfo",value:function(){var _getInfo=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(){var response;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return this.getResponse("getInfo");case 2:response=_context8.sent;this.notify("getInfo",response);return _context8.abrupt("return",response);case 5:case"end":return _context8.stop();}}},_callee8,this)}));function getInfo(){return _getInfo.apply(this,arguments)}return getInfo}()},{key:"getResponse",value:function(){var _getResponse=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(action){var data,config,defaultConfig,_args9=arguments;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:data=_args9.length>1&&_args9[1]!==undefined?_args9[1]:{};config=_args9.length>2?_args9[2]:undefined;defaultConfig={dataType:"json",method:"POST"};config=config||{};config=$.extend(defaultConfig,config);config.url=this.makeApiUrl(action);config.data=config.data||data;_context9.next=9;return $.ajax(config);case 9:return _context9.abrupt("return",_context9.sent);case 10:case"end":return _context9.stop();}}},_callee9,this)}));function getResponse(_x8){return _getResponse.apply(this,arguments)}return getResponse}()},{key:"makeApiUrl",value:function makeApiUrl(action){return "/bitrix/services/main/ajax.php?action=odva:module.api.".concat(this.eventScope,".").concat(action)}}]);return OdvaBasket}(Observer);var basket = new OdvaBasket;

	function _typeof$1(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof$1=function _typeof(obj){return typeof obj};}else{_typeof$1=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};}return _typeof$1(obj)}function asyncGeneratorStep$1(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator$1(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep$1(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep$1(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);})}}function _classCallCheck$2(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties$2(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass$2(Constructor,protoProps,staticProps){if(protoProps)_defineProperties$2(Constructor.prototype,protoProps);if(staticProps)_defineProperties$2(Constructor,staticProps);return Constructor}function _inherits$1(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf$1(subClass,superClass);}function _setPrototypeOf$1(o,p){_setPrototypeOf$1=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf$1(o,p)}function _createSuper$1(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$1();return function _createSuperInternal(){var Super=_getPrototypeOf$1(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf$1(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn$1(this,result)}}function _possibleConstructorReturn$1(self,call){if(call&&(_typeof$1(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized$1(self)}function _assertThisInitialized$1(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct$1(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function _getPrototypeOf$1(o){_getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf$1(o)}var OdvaOrder=/*#__PURE__*/function(_Observer){_inherits$1(OdvaOrder,_Observer);var _super=_createSuper$1(OdvaOrder);function OdvaOrder(){var _this;_classCallCheck$2(this,OdvaOrder);_this=_super.call(this);_this.eventScope="order";return _this}_createClass$2(OdvaOrder,[{key:"getBasket",value:function(){var _getBasket=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee(iblockId){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.getResponse("getBasket",{iblockId:iblockId});case 2:response=_context.sent;this.notify("getBasket",response);return _context.abrupt("return",response);case 5:case"end":return _context.stop();}}},_callee,this)}));function getBasket(_x){return _getBasket.apply(this,arguments)}return getBasket}()},{key:"getUser",value:function(){var _getUser=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){var response;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.getResponse("getUser");case 2:response=_context2.sent;this.notify("getUser",response);return _context2.abrupt("return",response);case 5:case"end":return _context2.stop();}}},_callee2,this)}));function getUser(){return _getUser.apply(this,arguments)}return getUser}()},{key:"getDeliveries",value:function(){var _getDeliveries=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){var response;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.getResponse("getDeliveries");case 2:response=_context3.sent;this.notify("getDeliveries",response);return _context3.abrupt("return",response);case 5:case"end":return _context3.stop();}}},_callee3,this)}));function getDeliveries(){return _getDeliveries.apply(this,arguments)}return getDeliveries}()},{key:"getPaySystems",value:function(){var _getPaySystems=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(){var response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.getResponse("getPaySystems");case 2:response=_context4.sent;this.notify("getPaySystems",response);return _context4.abrupt("return",response);case 5:case"end":return _context4.stop();}}},_callee4,this)}));function getPaySystems(){return _getPaySystems.apply(this,arguments)}return getPaySystems}()},{key:"getUserProfiles",value:function(){var _getUserProfiles=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(name,count){var response;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.getResponse("getUserProfiles",{name:name,"count":count});case 2:response=_context5.sent;this.notify("getUserProfiles",response);return _context5.abrupt("return",response);case 5:case"end":return _context5.stop();}}},_callee5,this)}));function getUserProfiles(_x2,_x3){return _getUserProfiles.apply(this,arguments)}return getUserProfiles}()},{key:"getOrderCalculate",value:function(){var _getOrderCalculate=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(deliveryId,paySystemId,cityCode,personTypeId){var response;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.getResponse("getOrderCalculate",{deliveryId:deliveryId,paySystemId:paySystemId,cityCode:cityCode,personTypeId:personTypeId});case 2:response=_context6.sent;this.notify("getOrderCalculate",response);return _context6.abrupt("return",response);case 5:case"end":return _context6.stop();}}},_callee6,this)}));function getOrderCalculate(_x4,_x5,_x6,_x7){return _getOrderCalculate.apply(this,arguments)}return getOrderCalculate}()},{key:"getLocationsByName",value:function(){var _getLocationsByName=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(name,count){var response;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.getResponse("getLocationsByName",{name:name,count:count});case 2:response=_context7.sent;this.notify("getLocationsByName",response);return _context7.abrupt("return",response);case 5:case"end":return _context7.stop();}}},_callee7,this)}));function getLocationsByName(_x8,_x9){return _getLocationsByName.apply(this,arguments)}return getLocationsByName}()},{key:"makeOrder",value:function(){var _makeOrder=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(deliveryId,paySystemId,props,cityCode,personTypeId){var response;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return this.getResponse("makeOrder",{deliveryId:deliveryId,paySystemId:paySystemId,props:props,cityCode:cityCode,personTypeId:personTypeId});case 2:response=_context8.sent;this.notify("makeOrder",response);return _context8.abrupt("return",response);case 5:case"end":return _context8.stop();}}},_callee8,this)}));function makeOrder(_x10,_x11,_x12,_x13,_x14){return _makeOrder.apply(this,arguments)}return makeOrder}()},{key:"getResponse",value:function(){var _getResponse=_asyncToGenerator$1(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(action){var data,config,defaultConfig,_args9=arguments;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:data=_args9.length>1&&_args9[1]!==undefined?_args9[1]:{};config=_args9.length>2?_args9[2]:undefined;defaultConfig={dataType:"json",method:"POST"};config=config||{};config=$.extend(defaultConfig,config);config.url=this.makeApiUrl(action);config.data=config.data||data;_context9.next=9;return $.ajax(config);case 9:return _context9.abrupt("return",_context9.sent);case 10:case"end":return _context9.stop();}}},_callee9,this)}));function getResponse(_x15){return _getResponse.apply(this,arguments)}return getResponse}()},{key:"makeApiUrl",value:function makeApiUrl(action){return "/bitrix/services/main/ajax.php?action=odva:module.api.".concat(this.eventScope,".").concat(action)}}]);return OdvaOrder}(Observer);var order = new OdvaOrder;

	exports.Basket = basket;
	exports.Order = order;

}((this.BX.Odva = this.BX.Odva || {})));
//# sourceMappingURL=main.bundle.js.map
